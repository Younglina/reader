import{_ as g,o as i,c as n,a,F as h,r as p,u as x,b as I,d as b,w,t as d,e as B,f as R}from"./index-510e6e2e.js";import{g as S,n as $}from"./useRss-17637488.js";const C={},E={class:"wy-loading"},F={class:"wrapper"};function N(D,l){return i(),n("div",E,[a("div",F,[(i(),n(h,null,p(62,u=>a("i",{key:u})),64))])])}const V=g(C,[["render",N],["__scopeId","data-v-1d8f01b5"]]);const q={key:0,class:"subs"},P={class:"subs-title"},U={class:"subs-desc"},j={class:"dataList-image"},z=["src"],A={class:"dataList-content"},G=["onClick"],H={class:"dataList-date"},J={class:"dataList-shortdesc"},K={__name:"rssData",setup(D){const l=x(),u=I(),r=b({}),_=b(!1);w(()=>u.query,o=>{const{key:f,uid:e}=o;console.log(l.subsList[f]);const s=l.subsList[f].child.find(t=>t.uid===e);_.value=!0,S(s.url).then(t=>{if(console.log(t,s),s.subsData){const m=t.item.at(-1);if(!s.subsData.item.find(c=>c.title===m.title&&c.formatDate===m.formatDate))s.subsData.item=[...t.item,...s.subsData.item];else{const c=s.subsData.item[0],L=t.item.findIndex(v=>v.title===c.title&&v.formatDate===c.formatDate);s.subsData.item=[...t.item.slice(0,L),...s.subsData.item]}}else s.subsData=t;r.value=s.subsData,_.value=!1}).catch(t=>{console.error(t),_.value=!1})},{immediate:!0});function y(o){o.target.src=$}function k(o){window.open(o.link),o.isRead=!0,l.recentlyRead.unshift(o)}return(o,f)=>_.value?(i(),B(V,{key:1})):(i(),n("div",q,[a("div",P,d(r.value.title),1),a("div",U,d(r.value.description),1),(i(!0),n(h,null,p(r.value.item,e=>(i(),n("div",{key:e.link,class:"dataList"},[a("div",j,[e.image?(i(),n("img",{key:0,src:e.image,alt:"头图",onError:y},null,40,z)):R("",!0)]),a("div",A,[a("div",{class:"dataList-title",onClick:s=>k(e)},d(e.title),9,G),a("div",H,d(e.formatDate),1),a("div",J,d(e.shortDesc),1)])]))),128))]))}},T=g(K,[["__scopeId","data-v-4973e4d7"]]);export{T as default};
