import{_ as L,d as p,u as F,g as N,o as r,c,a as s,h as y,v as V,i as $,t as _,F as g,r as C,f as x,e as j,j as D,k,l as z,T as E,p as H,m as K}from"./index-510e6e2e.js";import{g as M}from"./useRss-17637488.js";let m;const O=new Uint8Array(16);function A(){if(!m&&(m=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!m))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return m(O)}const n=[];for(let e=0;e<256;++e)n.push((e+256).toString(16).slice(1));function P(e,t=0){return(n[e[t+0]]+n[e[t+1]]+n[e[t+2]]+n[e[t+3]]+"-"+n[e[t+4]]+n[e[t+5]]+"-"+n[e[t+6]]+n[e[t+7]]+"-"+n[e[t+8]]+n[e[t+9]]+"-"+n[e[t+10]]+n[e[t+11]]+n[e[t+12]]+n[e[t+13]]+n[e[t+14]]+n[e[t+15]]).toLowerCase()}const q=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),I={randomUUID:q};function f(e,t,d){if(I.randomUUID&&!t&&!e)return I.randomUUID();e=e||{};const i=e.random||(e.rng||A)();if(i[6]=i[6]&15|64,i[8]=i[8]&63|128,t){d=d||0;for(let a=0;a<16;++a)t[d+a]=i[a];return t}return P(i)}const b=e=>(H("data-v-8917a397"),e=e(),K(),e),G={class:"rss-search"},J=b(()=>s("h2",null,"查找并订阅你的网站",-1)),Q=b(()=>s("div",{class:"description"},[s("p",null,[k("所有rss源都来源于："),s("a",{href:"https://docs.rsshub.app/"},"rsshub")]),s("p",null,[k("找到你需要订阅的地址如："),s("a",{href:"https://docs.rsshub.app/social-media.html#zhi-hu"},"知乎热榜")]),s("p",null,"只需要复制 zhihu/hotlist 到下面输入框即可")],-1)),W={class:"rss-input"},X=["onKeydown"],Y={key:0,class:"search-data"},Z={class:"search-title"},ee={class:"search-desc"},te={class:"data-item"},se=["onClick"],ne={key:1,class:"loader"},oe={id:"loader-1",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:"40px",height:"40px",viewBox:"0 0 50 50",style:{"enable-background":"new 0 0 50 50"},"xml:space":"preserve"},le=b(()=>s("path",{fill:"#000",d:"M43.935,25.145c0-10.318-8.364-18.683-18.683-18.683c-10.318,0-18.683,8.365-18.683,18.683h4.068c0-8.071,6.543-14.615,14.615-14.615c8.072,0,14.615,6.543,14.615,14.615H43.935z"},[s("animateTransform",{attributeType:"xml",attributeName:"transform",type:"rotate",from:"0 25 25",to:"360 25 25",dur:"0.6s",repeatCount:"indefinite"})],-1)),ae=[le],ue={key:2},ie={class:"follow-modal"},re=["value"],ce={__name:"search",setup(e){const t=p(""),d=p(!1),i=p(""),a=p({});async function U(){if(t.value){d.value=!0;try{const u=await M(t.value);a.value=u,console.log(u),d.value=!1}catch(u){console.log(123),d.value=!1,i.value=u.message}}}function B(u){window.open(u.link)}const w=p(!1),v=p(""),h=p(""),S=F(),R=N(()=>{const u=Object.keys(S.subsList);return u.push("自定义"),u});function T(u){if(u==="sure"){let l=v.value;v.value==="自定义"&&h.value&&(l=h.value),S.subsList[l||"未分类"]={child:[{parentType:h.value,uid:f(),title:a.value.title,url:t.value,subsData:a.value}],isOpen:!0,uid:f()}}w.value=!1}return(u,l)=>(r(),c(g,null,[s("div",G,[J,Q,s("div",W,[y(s("input",{"onUpdate:modelValue":l[0]||(l[0]=o=>t.value=o),onKeydown:$(U,["enter"])},null,40,X),[[V,t.value]]),s("div",{onClick:U}," 搜索 ")]),a.value.title?(r(),c("div",Y,[s("div",Z,[s("span",null,_(a.value.title),1),s("span",{class:"btn",onClick:l[1]||(l[1]=o=>w.value=!0)},"订阅")]),s("div",ee,_(a.value.description),1),s("ul",te,[(r(!0),c(g,null,C(a.value.item.slice(0,3),o=>(r(),c("li",{key:o.title,onClick:de=>B(o)},_(o.title),9,se))),128))])])):x("",!0),d.value?(r(),c("div",ne,[(r(),c("svg",oe,ae))])):x("",!0),i.value?(r(),c("div",ue,_(i.value),1)):x("",!0)]),(r(),j(E,{to:"body"},[y(s("div",ie,[k(" 分类： "),y(s("select",{"onUpdate:modelValue":l[2]||(l[2]=o=>v.value=o)},[(r(!0),c(g,null,C(R.value,o=>(r(),c("option",{key:o,value:o},_(o),9,re))),128))],512),[[z,v.value]]),y(s("input",{"onUpdate:modelValue":l[3]||(l[3]=o=>h.value=o),type:"text"},null,512),[[D,v.value==="自定义"],[V,h.value]]),s("div",null,[s("span",{onClick:l[4]||(l[4]=o=>T("sure"))},"确定"),s("span",{onClick:l[5]||(l[5]=o=>T("cancel"))},"取消")])],512),[[D,w.value]])]))],64))}},he=L(ce,[["__scopeId","data-v-8917a397"]]);export{he as default};
